"use strict";(self.webpackChunkkeybr_com=self.webpackChunkkeybr_com||[]).push([[5176],{7436:(t,e,s)=>{s.d(e,{zm:()=>r,dq:()=>o,wj:()=>n,Q6:()=>S,Mi:()=>a,jx:()=>f,vI:()=>v,Ro:()=>d,HN:()=>i,ud:()=>w,r2:()=>g,cg:()=>x,Jp:()=>b});class r{#t;#e;#s;constructor(t){this.#t=new Float64Array(t),this.#e=new Float64Array(this.#t.length),this.#s=new Float64Array(this.#t.length);const e=t.reduce(((t,e)=>t+e),0);let s=0;for(let r=0;r<this.#t.length;r++)this.#e[r]=t[r]/e,this.#s[r]=s+=t[r]/e}*[Symbol.iterator](){for(let t=0;t<this.#t.length;t++)yield{index:t,pmf:this.pmf(t),cdf:this.cdf(t)}}map(t){return[...this].map((e=>t(e)))}get length(){return this.#t.length}pmf(t){const{length:e}=this.#t;return(t=Math.round(t))<0||t>e-1?0:this.#e[t]}cdf(t){const{length:e}=this.#t;return(t=Math.round(t))<0?0:t>e-1?1:this.#s[t]}scale(t){const{length:e}=this.#t;return(t=Math.round(t*(e-1)))<0?0:t>e-1?e-1:t}unscale(t){const{length:e}=this.#t;return(t=Math.round(t))<0?0:t>e-1?1:t/(e-1)}}const i=t=>{let e=0,s=NaN;return{get n(){return e},add:r=>(e++,s=e>1?t*r+(1-t)*s:r,s)}};class n{#r=new Set;constructor(t){for(const e of t)this.add(e)}*[Symbol.iterator](){for(const t of this.#r)yield t}add(t){this.#r.add(t)}}class a{#i=[];constructor(t=[]){for(const e of t)this.add(e)}*[Symbol.iterator](){for(const t of this.#i)yield t}add(t){if(t!=t)throw new Error;this.#i.push(t)}get length(){return this.#i.length}at(t){if(!Number.isSafeInteger(t))throw new RangeError;if(t<0||t>=this.#i.length)throw new RangeError;return this.#i[t]}}class o{#n;#a;static from(t){const e=new o(new n([]));for(const[s,r]of t)e.set(s,r);return e}constructor(t){this.#n=t,this.#a=new Map}*[Symbol.iterator](){for(const t of this.#n)yield[t,this.get(t)]}*keys(){for(const t of this.#n)yield t}*values(){for(const t of this.#n)yield this.get(t)}asVector(){return new a(this.values())}has(t){return this.#a.has(t)}get(t){return this.#a.get(t)??0}set(t,e){if(e!=e||e<0)throw new Error;this.#n.add(t),this.#a.set(t,e)}add(t,e){if(e!=e||e<0)throw new Error;this.#n.add(t),this.#a.set(t,this.get(t)+e)}}class h{static from(t){switch((t=function(t){let e=t.length;for(;e>1&&0===t[e-1];)e-=1;return t.slice(0,e)}(t)).length){case 0:throw new Error;case 1:return new l(t[0]);case 2:return new c(t[0],t[1]);case 3:return new u(t[0],t[1],t[2]);case 4:return new p(t[0],t[1],t[2],t[3]);default:return new m(t)}}coef;degree;constructor(t){this.coef=t,this.degree=t.length-1}}class l extends h{y;constructor(t){super([t]),this.y=t}eval(t){return this.y}derivative(){return new l(0)}}class c extends h{a;b;constructor(t,e){super([t,e]),this.a=t,this.b=e}eval(t){return this.a+this.b*t}derivative(){return new l(this.b)}}class u extends h{a;b;c;constructor(t,e,s){super([t,e,s]),this.a=t,this.b=e,this.c=s}eval(t){return this.a+this.b*t+this.c*t*t}derivative(){return new c(this.b,2*this.c)}}class p extends h{a;b;c;d;constructor(t,e,s,r){super([t,e,s,r]),this.a=t,this.b=e,this.c=s,this.d=r}eval(t){return this.a+this.b*t+this.c*t*t+this.d*t*t*t}derivative(){return new u(this.b,2*this.c,3*this.d)}}class m extends h{constructor(t){super(t)}eval(t){const{coef:e}=this,{length:s}=e;let r=0;for(let i=s-1;i>0;i--)r=(r+e[i])*t;return r+e[0]}derivative(){const{coef:t}=this,{length:e}=t,s=new Array(e-1);for(let r=1;r<e;r++)s[r-1]=t[r]*r;return h.from(s)}}function d(t,e){const{length:s}=t;if(s!==e.length)throw new Error;if(0===s)throw new Error;let r=0,i=0;for(let n=0;n<s;n++)r+=t.at(n),i+=e.at(n);const n=r/s,a=i/s;let o=0,l=0;for(let r=0;r<s;r++){const s=t.at(r)-n;o+=s*(e.at(r)-a),l+=s*s}const c=a-o/l*n,u=o/l;return h.from([c,u])}function f(t){return new class{eval(e){return t}}}function g(t,e,s){const{length:r}=t;if(r!==e.length)throw new Error;if(0===r)throw new Error;let i=0;for(let t=0;t<r;t++)i+=e.at(t);const n=i/r;let a=0,o=0;for(let i=0;i<r;i++){const r=e.at(i)-s.eval(t.at(i)),h=e.at(i)-n;a+=r*r,o+=h*h}return 1-a/o}class y{size;A;y;constructor(t){const e=new Array(t+1);for(let s=0;s<t;s++)e[s]=new Array(t).fill(0);const s=new Array(t).fill(0);e[t]=s,this.size=t,this.A=e,this.y=s}solve(){const{size:t,A:e}=this;for(let s=0;s<t;s++){let r=s;for(let i=s+1;i<t;i++)Math.abs(e[s][i])>Math.abs(e[s][r])&&(r=i);for(let i=s;i<t+1;i++){const t=e[i][s];e[i][s]=e[i][r],e[i][r]=t}for(let r=s+1;r<t;r++)for(let i=t;i>=s;i--)e[i][r]-=e[i][s]*e[s][r]/e[s][s]}const s=new Array(t);for(let r=t-1;r>=0;r--){let i=0;for(let n=r+1;n<t;n++)i+=e[n][r]*s[n];s[r]=(e[t][r]-i)/e[r][r]}return s}}function w(t,e,s){if(1===s)return d(t,e);const{length:r}=t;if(r!==e.length)throw new Error;if(0===r)throw new Error;const i=s+1,n=new y(i);for(let e=0;e<i;e++)for(let s=0;s<i;s++){let i=0;for(let n=0;n<r;n++)i+=t.at(n)**(e+s);n.A[e][s]=i}for(let s=0;s<i;s++){let i=0;for(let n=0;n<r;n++)i+=t.at(n)**s*e.at(n);n.y[s]=i}return h.from(n.solve())}class S{static from(t,...e){const s=new S;s.adjust(t);for(const t of e)s.adjust(t);return s}#o=NaN;#h=NaN;constructor(...t){const e=t.length;let s,r;if(0!==e){if(1===e&&(s=t[0])instanceof S)return this.#o=s.#o,void(this.#h=s.#h);if(2===e&&"number"==typeof(s=t[0])&&"number"==typeof(r=t[1]))return this.#o=s,void(this.#h=r);throw new TypeError}}get defined(){return this.#o==this.#o&&this.#h==this.#h}get min(){return this.#o}set min(t){this.#o=this.#o==this.#o?Math.min(this.#o,t):t}get max(){return this.#h}set max(t){this.#h=this.#h==this.#h?Math.max(this.#h,t):t}adjust(t){for(const e of t)this.min=e,this.max=e;return this}get span(){if(!this.defined)throw new RangeError;return this.#h-this.#o}normalize(t,e=0){if(!this.defined)throw new RangeError;return this.#h===this.#o?this.#o:(t-this.#o)/(this.#h-this.#o+e)}round(t){if(!this.defined)throw new RangeError;const e=this.#h/t,s=Math.floor(e);e!==s&&(this.#h=(s+1)*t);const r=this.#o/t,i=Math.ceil(r);return r!==i&&(this.#o=(i-1)*t),this}*steps(){if(!this.defined)throw new RangeError;for(let t=this.#o;t<=this.#h;t++)yield t}}const v=({length:t})=>t>=5,b=t=>{const e=i(1/Math.pow(10,3*t));return t=>e.add(t)},x=(t,e)=>{const{length:s}=t,r=s/e,i=new Array(e);for(let s=0;s<e;s++)i[s]=t[Math.floor(s*r)];return i}},5176:(t,e,s)=>{var r;s.d(e,{PV:()=>v,yc:()=>m,Hm:()=>C,$S:()=>i,ux:()=>w,Q7:()=>T,De:()=>h,oP:()=>g,sS:()=>L,M2:()=>M,_H:()=>f,$r:()=>R,CY:()=>y,lv:()=>O,Ut:()=>E,SI:()=>k,ll:()=>W,E:()=>l});class i{static level1=1;static level2=.97;static level3=.95;static findLongest(t){const e=[{level:r.level1,results:[]},{level:r.level2,results:[]},{level:r.level3,results:[]}],s=t=>{for(const s of e)if(t.level>=s.level&&t.results.length>=s.results.length){s.results=t.results;break}},i=new r;for(const e of t)i.append(e,s);return i.end(s),e.filter((t=>t.results.length>0))}#l=new a;#c=new n(r.level1,this.#l);#u=new n(r.level2,this.#c);#p=new n(r.level3,this.#u);#m=new n(0,this.#p);#d=Object.freeze([this.#c,this.#u,this.#p]);get level1(){return this.#c}get level2(){return this.#u}get level3(){return this.#p}[Symbol.iterator](){return this.#d[Symbol.iterator]()}append(t,e=null){this.#m.append(t,e)}end(t){this.#m.end(t)}copy(){const t=this.#c.copy(),e=this.#u.copy(),s=this.#p.copy(),r=[t,e,s];return{level1:t,level2:e,level3:s,[Symbol.iterator]:()=>r[Symbol.iterator]()}}}r=i;class n{#f;#g;#y;constructor(t,e){this.#f=t,this.#g=e,this.#y=[]}get level(){return this.#f}get results(){return this.#y}append(t,e){const s=this.#y.length>this.#g.#y.length;return this.#g.append(t,e)?(s&&this.#y.push(t),!0):(s||this.#y.push(...this.#g.#y),this.#g.#y.length=0,t.accuracy>=this.#f?(this.#y.push(t),!0):(s&&this.#y.length>0&&null!=e&&e(this.copy()),!1))}end(t){null!=this.#g&&this.#g.end(t),this.#y.length>0&&t(this.copy())}copy(){return{level:this.#f,results:[...this.#y]}}}class a extends n{constructor(){super(1/0,null)}append(){return!1}}var o=s(7810);const h=(0,o.createContext)(null);function l(){const t=(0,o.useContext)(h);if(null==t)throw new Error(void 0);return t}var c,u,p=s(8767);!function(t){t[t.January=1]="January",t[t.February=2]="February",t[t.March=3]="March",t[t.April=4]="April",t[t.May=5]="May",t[t.June=6]="June",t[t.July=7]="July",t[t.August=8]="August",t[t.September=9]="September",t[t.October=10]="October",t[t.November=11]="November",t[t.December=12]="December"}(c||(c={})),function(t){t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t[t.Sunday=7]="Sunday"}(u||(u={}));class m{year;month;dayOfMonth;dayOfWeek;timeStamp;value;static now(){return new m(Date.now())}constructor(...t){const{length:e}=t;let s,r,i,n,a;if(3===e&&(0,p.Et)(s=t[0])&&(0,p.Et)(r=t[1])&&(0,p.Et)(i=t[2])){if(a=new Date(s,r-1,i),a.getFullYear()!==s||a.getMonth()!==r-1||a.getDate()!==i)throw new Error(void 0)}else if(1===e&&(0,p.Et)(n=t[0]))a=new Date(n);else{if(1!==e||!(0,p.Gv)(a=t[0]))throw new TypeError(void 0);a=new Date(a.getTime())}a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),this.year=a.getFullYear(),this.month=a.getMonth()+1,this.dayOfMonth=a.getDate();let o=a.getDay();return 0===o&&(o=7),this.dayOfWeek=o,this.timeStamp=a.getTime(),this.value=String(this.year)+"-"+String(this.month).padStart(2,"0")+"-"+String(this.dayOfMonth).padStart(2,"0"),Object.freeze(this)}plusDays(t){const e=new Date(this.timeStamp);return e.setDate(e.getDate()+t),new m(e)}minusDays(t){const e=new Date(this.timeStamp);return e.setDate(e.getDate()-t),new m(e)}toString(){return this.value}valueOf(){return this.timeStamp}}class d{#w;#S;constructor(t,e){this.#w=t,this.#S=e}get from(){return this.#w}get to(){return this.#S}includes(t){return this.#w.timeStamp<=t&&t<this.#S.timeStamp}toString(){return`${this.#w} - ${this.#S}`}}class f extends d{constructor(t=m.now()){super(t,t.plusDays(1))}}class g{static byLayout=t=>new g((({layout:t})=>t)).addAll(t);static byLayoutFamily=t=>new g((({layout:t})=>t.family)).addAll(t);static byDate=t=>new g((()=>{let t=new m(0),e=new m(0);return s=>{const{timeStamp:r}=s;return t.timeStamp<=r&&r<e.timeStamp||(t=new m(r),e=t.plusDays(1)),t}})()).addAll(t);#v;#a;constructor(t){this.#v=t,this.#a=new Map}[Symbol.iterator](){return this.#a.values()}*keys(){for(const{key:t}of this.#a.values())yield t}get(t){return this.#b(t).results}add(t){return this.#b(this.#v(t)).results.push(t),this}addAll(t){for(const e of t)this.add(e);return this}#b(t){const e=String(t);let s=this.#a.get(e);return null==s&&this.#a.set(e,s={key:t,results:[]}),s}}function y(t){const e=new w;for(const s of t)e.append(s);return e.copy()}class w{#x=0;#T=0;#k=new S;#E=new S;#M=new S;get count(){return this.#x}get time(){return this.#T}get speed(){return this.#k}get accuracy(){return this.#E}get score(){return this.#M}append(t){this.#x+=1,this.#T+=t.time,this.#k.append(t.speed),this.#E.append(t.accuracy),this.#M.append(t.score)}copy(){return{count:this.#x,time:this.#T,speed:this.#k.copy(),accuracy:this.#E.copy(),score:this.#M.copy()}}}class S{#P=0;#R=0;#x=0;#C=0;#o=0;#h=0;#A=0;get last(){return this.#P}get delta(){return this.#R}get min(){return this.#o}get max(){return this.#h}get avg(){return this.#A}append(t){this.#x+=1,1===this.#x?(this.#P=t,this.#R=t,this.#C=t,this.#o=t,this.#h=t,this.#A=t):(this.#P=t,this.#R=t-this.#A,this.#C+=t,this.#o=Math.min(this.#o,t),this.#h=Math.max(this.#h,t),this.#A=this.#C/this.#x)}copy(){return{last:this.#P,delta:this.#R,min:this.#o,max:this.#h,avg:this.#A}}}class v{#a=new Map;#O;constructor(t,e=m.now()){const s=g.byDate(t);for(const{key:t,results:e}of s)this.#a.set(String(t),b(t,e));this.#O=this.#a.get(String(e))??b(e,[])}[Symbol.iterator](){return this.#a.values()}has(t){return this.#a.has(String(t))}get(t){return this.#a.get(String(t))??b(t,[])}get today(){return this.#O}}function b(t,e){return{date:t,results:e,stats:y(e)}}Error,Symbol.toStringTag;s(4922),s(8591),s(4100);var x=s(5283);class T{layout;textType;timeStamp;length;time;errors;histogram;static filter={minLength:10,minTime:1e3,minComplexity:1,minSpeed:1,maxSpeed:1/0};static fromStats(t,e,s,r){return new T(t,e,s,r.length,r.time,r.errors,r.histogram)}static isValid=t=>t.validate();complexity;speed;accuracy;score;constructor(t,e,s,r,i,n,a){this.layout=t,this.textType=e,this.timeStamp=s,this.length=r,this.time=i,this.errors=n,this.histogram=a;const{complexity:o}=a;let h=0,l=0,c=0;r>0&&i>0&&o>0&&(h=r/(i/1e3)*60,l=(r-n)/r,c=h*o/(n+1)*(r/50)),this.complexity=o,this.speed=h,this.accuracy=l,this.score=c}validate({minLength:t=T.filter.minLength,minTime:e=T.filter.minTime,minComplexity:s=T.filter.minComplexity,minSpeed:r=T.filter.minSpeed,maxSpeed:i=T.filter.maxSpeed}={}){return this.length>=t&&this.time>=e&&this.complexity>=s&&this.speed>=r&&this.speed<=i&&this.histogram.validate()}toJSON(){return{layout:this.layout.id,textType:this.textType.id,timeStamp:new Date(this.timeStamp),length:this.length,time:this.time,errors:this.errors,speed:this.speed,histogram:[...this.histogram]}}}function k(t){if(!Number.isFinite(t)||0===t)throw new Error;return 6e4/t}function E(t){if(!Number.isFinite(t)||0===t)throw new Error;return 1e3/(t/60)}class M{id;xid;static GENERATED=new M("generated",1);static NATURAL=new M("natural",2);static NUMBERS=new M("numbers",3);static CODE=new M("code",4);static ALL=new p.KX(M.GENERATED,M.NATURAL,M.NUMBERS,M.CODE);constructor(t,e){this.id=t,this.xid=e,Object.freeze(this)}toString(){return this.id}toJSON(){return this.id}}var P=s(7436);function R(t,e){const s=new C(t);for(const t of e)s.append(t);return s.copy()}class C{#D;#y;#a;constructor(t){this.#D=[...t],this.#y=[],this.#a=new Map;for(const e of t)this.#a.set(e,new A(e))}get letters(){return this.#D}get results(){return this.#y}get(t){return this.#a.get(t)}[Symbol.iterator](){return this.#a.values()}append(t){this.#y.push(t);for(const e of this.#a.values())e.append(t)}copy(){const t=[...this.#D],e=[...this.#y],s=new Map([...this.#a].map((([t,e])=>[t,e.copy()])));return{get letters(){return t},get results(){return e},get:t=>s.get(t),[Symbol.iterator]:()=>s.values()}}}class A{#N;#t;#L;#W;#U;#F;constructor(t){this.#N=t,this.#t=[],this.#L=(0,P.HN)(.1),this.#W=0,this.#U=null,this.#F=null}get letter(){return this.#N}get samples(){return this.#t}get timeToType(){return this.#U}get bestTimeToType(){return this.#F}append(t){const{timeStamp:e,histogram:s}=t,r=s.get(this.#N.codePoint);if(null!=r){const{hitCount:t,missCount:s,timeToType:i}=r;if(i>0){const r=this.#L.add(i);this.#t.push({index:this.#W,timeStamp:e,hitCount:t,missCount:s,timeToType:i,filteredTimeToType:r}),this.#U=r,this.#F=Math.min(this.#F??1/0,r)}}return this.#W+=1,this}copy(){return{letter:this.#N,samples:[...this.#t],timeToType:this.#U,bestTimeToType:this.#F}}}function O(t){const e=[];for(const s of t)if(s.validate())e.push(s);else{const t=new T(s.layout,s.textType,s.timeStamp,s.length,s.time,s.errors,new x.dq([...s.histogram].filter(x.Hd)));t.validate()&&e.push(t)}return e}var D=s(3764),N=s(6602);class L{id;factor;name;static WPM=new L("wpm",.2,(0,N.zR)({id:"gp/YEbGZ"}));static WPS=new L("wps",1/300,(0,N.zR)({id:"7xwPdyke"}));static CPM=new L("cpm",1,(0,N.zR)({id:"1QGnSYYZ"}));static CPS=new L("cps",1/60,(0,N.zR)({id:"SVoJEAFU"}));static ALL=new p.gp(L.WPM,L.WPS,L.CPM,L.CPS);constructor(t,e,s){this.id=t,this.factor=e,this.name=s,Object.freeze(this)}measure=t=>t*this.factor;toString(){return this.id}toJSON(){return this.id}}const W={speedUnit:(0,D.x9)("ui.speedUnit",L.ALL,L.WPM)}},5283:(t,e,s)=>{s.d(e,{cg:()=>r,kq:()=>Bt,QW:()=>zt,Gb:()=>Yt,KQ:()=>Ot,dq:()=>Dt,ks:()=>qt,v3:()=>$t,DJ:()=>l,TF:()=>It,IE:()=>Gt,pF:()=>c,R$:()=>a,O9:()=>jt,dy:()=>Jt,kD:()=>Ut,w2:()=>Ht,u4:()=>Ft,Hd:()=>Nt});var r,i=s(2044);function n(t){const e=[];if(Array.isArray(t))for(const s of t)e.push(n(s));else if("string"==typeof t)e.push(t);else{if(!o(t))throw new TypeError;e.push(t.text)}return e.join("")}function a(t,e=r.Normal){const s=[];if(Array.isArray(t))for(const e of t)s.push(...a(e));else if("string"==typeof t)s.push(...[...(0,i.ex)(t)].map((t=>({codePoint:t,cls:null,attrs:e}))));else{if(!o(t))throw new TypeError;s.push(...[...(0,i.ex)(t.text)].map((s=>({codePoint:s,cls:t.cls,attrs:e}))))}return s}function o(t){return null!=t&&"object"==typeof t&&"text"in t}function h(t,e){if(t!==e){if(t.codePoint!==e.codePoint)return!1;if(t.attrs!==e.attrs)return!1;if(t.cls!==e.cls)return!1}return!0}function l(t,e){if(t!==e){const{length:s}=t;if(s!==e.length)return!1;for(let r=0;r<s;r++){if(!h(t[r],e[r]))return!1}}return!0}function c(t){const e=n(t);return{text:e,lines:[{text:e,chars:a(t)}]}}!function(t){t[t.Normal=0]="Normal",t[t.Hit=1]="Hit",t[t.Miss=2]="Miss",t[t.Garbage=4]="Garbage",t[t.Cursor=8]="Cursor"}(r||(r={}));var u=s(8767);class p{family;weight;style;fallbacks;scripts;name;cssProperties;constructor(t,e,s,r,i){this.family=t,this.weight=e,this.style=s,this.fallbacks=r,this.scripts=i,this.name=function(t,e,s){let r="Regular";switch(e){case"100":r="Thin";break;case"200":r="Extra Light";break;case"300":r="Light";break;case"400":r="Regular";break;case"500":r="Medium";break;case"600":r="Semi Bold";break;case"700":r="Bold";break;case"800":r="Extra Bold";break;case"900":r="Black"}let i="Regular";switch(s){case"normal":i="Regular";break;case"italic":i="Italic"}if("Regular"===r&&"Regular"===i)return`${t}`;if("Regular"===r)return`${t} (${i})`;if("Regular"===i)return`${t} (${r})`;return`${t} (${r} ${i})`}(t,e,s),this.cssProperties={fontFamily:[t,...r].join(","),fontWeight:e,fontStyle:s}}}const m=["cyrillic","latin"],d=["cyrillic","greek","latin"],f=["cyrillic","greek","hebrew","latin"],g=["arabic","cyrillic","hebrew","latin"],y=["arabic","cyrillic","greek","hebrew","latin","thai"],w=new p("Arad","400","normal",["whitespace"],["arabic"]),S=new p("Arad","700","normal",["whitespace"],["arabic"]),v=new p("Cormorant","400","normal",["serif"],m),b=new p("Cormorant","400","italic",["serif"],m),x=new p("Cormorant","700","normal",["serif"],m),T=new p("Cormorant","700","italic",["serif"],m),k=new p("Newsreader","400","normal",["serif"],["latin"]),E=new p("Newsreader","400","italic",["serif"],["latin"]),M=new p("Newsreader","700","normal",["serif"],["latin"]),P=new p("Newsreader","700","italic",["serif"],["latin"]),R=new p("Nunito","400","normal",["sans-serif"],m),C=new p("Nunito","400","italic",["sans-serif"],m),A=new p("Nunito","700","normal",["sans-serif"],m),O=new p("Nunito","700","italic",["sans-serif"],m),D=new p("Open Dyslexic","400","normal",["sans-serif"],d),N=new p("Open Dyslexic","400","italic",["sans-serif"],d),L=new p("Open Dyslexic","700","normal",["sans-serif"],d),W=new p("Open Dyslexic","700","italic",["sans-serif"],d),U=new p("Open Sans","400","normal",["sans-serif"],f),F=new p("Open Sans","400","italic",["sans-serif"],f),z=new p("Open Sans","700","normal",["sans-serif"],f),B=new p("Open Sans","700","italic",["sans-serif"],f),$=new p("Roboto","400","normal",["sans-serif"],d),J=new p("Roboto","400","italic",["sans-serif"],d),j=new p("Roboto","700","normal",["sans-serif"],d),H=new p("Roboto","700","italic",["sans-serif"],d),G=new p("Roboto Mono","400","normal",["monospace"],d),I=new p("Roboto Mono","400","italic",["monospace"],d),Y=new p("Roboto Mono","700","normal",["monospace"],d),q=new p("Roboto Mono","700","italic",["monospace"],d),Q=new p("Rubik","400","normal",["sans-serif"],g),V=new p("Rubik","400","italic",["sans-serif"],g),_=new p("Rubik","700","normal",["sans-serif"],g),K=new p("Rubik","700","italic",["sans-serif"],g),Z=new p("Shantell Sans","400","normal",["serif"],m),X=new p("Shantell Sans","400","italic",["serif"],m),tt=new p("Shantell Sans","700","normal",["serif"],m),et=new p("Shantell Sans","700","italic",["serif"],m),st=new p("Spectral","400","normal",["serif"],m),rt=new p("Spectral","400","italic",["serif"],m),it=new p("Spectral","700","normal",["serif"],m),nt=new p("Spectral","700","italic",["serif"],m),at=new p("Ubuntu","400","normal",["sans-serif"],d),ot=new p("Ubuntu","400","italic",["sans-serif"],d),ht=new p("Ubuntu","700","normal",["sans-serif"],d),lt=new p("Ubuntu","700","italic",["sans-serif"],d),ct=new p("Ubuntu Mono","400","normal",["monospace"],d),ut=new p("Ubuntu Mono","400","italic",["monospace"],d),pt=new p("Ubuntu Mono","700","normal",["monospace"],d),mt=new p("Ubuntu Mono","700","italic",["monospace"],d),dt=new p("serif","400","normal",["whitespace"],y),ft=new p("serif","400","italic",["whitespace"],y),gt=new p("serif","700","normal",["whitespace"],y),yt=new p("serif","700","italic",["whitespace"],y),wt=new p("sans-serif","400","normal",["whitespace"],y),St=new p("sans-serif","400","italic",["whitespace"],y),vt=new p("sans-serif","700","normal",["whitespace"],y),bt=new p("sans-serif","700","italic",["whitespace"],y),xt=new p("monospace","400","normal",["whitespace"],y),Tt=new p("monospace","400","italic",["whitespace"],y),kt=new p("monospace","700","normal",["whitespace"],y),Et=new p("monospace","700","italic",["whitespace"],y),Mt=new p("cursive","400","normal",["whitespace"],y),Pt=new p("cursive","400","italic",["whitespace"],y),Rt=new p("cursive","700","normal",["whitespace"],y),Ct=new p("cursive","700","italic",["whitespace"],y),At=[w,S,v,b,x,T,k,E,M,P,R,C,A,O,U,F,z,B,$,J,j,H,G,I,Y,q,Q,V,_,K,Z,X,tt,et,st,rt,it,nt,at,ot,ht,lt,ct,ut,pt,mt,dt,ft,gt,yt,wt,St,vt,bt,xt,Tt,kt,Et,Mt,Pt,Rt,Ct,D,N,L,W];class Ot{static ALL=new u.gp(...At.map((t=>new Ot(t))));static get default(){return Ot.ALL.find((({name:t})=>t===ct.name))??Ot.ALL.at(0)}static select(t){return new u.gp(...Ot.ALL.filter((e=>e.scripts.includes(t.script))))}static find(t,e){return t.has(e)?e:t.at(0)}id;name;scripts;cssProperties;constructor(t){this.id=`${t.family}-${t.weight}-${t.style}`,this.name=t.name,this.scripts=t.scripts,this.cssProperties=Object.freeze({...t.cssProperties}),Object.freeze(this)}toString(){return this.id}toJSON(){return this.id}}class Dt{static empty=Dt.from([]);#z;constructor(t){this.#z=new Map(Array.from(t).sort(((t,e)=>t.codePoint-e.codePoint)).map((t=>[t.codePoint,t])))}[Symbol.iterator](){return this.#z.values()}get complexity(){return this.#z.size}has(t){return this.#z.has(t)}get(t){return this.#z.get(t)??null}validate(){if(this.#z.size<3)return!1;for(const t of this.#z.values())if(!Nt(t))return!1;return!0}static from(t){const e=new Map;for(const{codePoint:s,timeToType:r,typo:i}of t){let t=e.get(s);null==t&&e.set(s,t={hitCount:0,missCount:0,time:0,count:0}),t.hitCount+=1,i?t.missCount+=1:r>0&&(t.time+=r,t.count+=1)}return new Dt([...e.entries()].map((([t,{hitCount:e,missCount:s,time:r,count:i}])=>({codePoint:t,hitCount:e,missCount:s,timeToType:r>0&&i>0?Math.round(r/i):0}))).filter(Nt))}}function Nt({timeToType:t}){if(t>0){if(t<40)return!1;if(t>12e3)return!1}return!0}var Lt=s(8591),Wt=s(3764);const Ut={stopOnError:(0,Wt.kk)("textInput.stopOnError",!0),forgiveErrors:(0,Wt.kk)("textInput.forgiveErrors",!0),spaceSkipsWords:(0,Wt.kk)("textInput.spaceSkipsWords",!1)};function Ft(t){return{stopOnError:t.get(Ut.stopOnError),forgiveErrors:t.get(Ut.forgiveErrors),spaceSkipsWords:t.get(Ut.spaceSkipsWords)}}var zt,Bt,$t;!function(t){t[t.Block=1]="Block",t[t.Box=2]="Box",t[t.Line=3]="Line",t[t.Underline=4]="Underline"}(zt||(zt={})),function(t){t[t.Jumping=1]="Jumping",t[t.Smooth=2]="Smooth"}(Bt||(Bt={})),function(t){t[t.Space=1]="Space",t[t.Bar=2]="Bar",t[t.Bullet=3]="Bullet"}($t||($t={}));const Jt={font:Ot.default,caretShapeStyle:zt.Underline,caretMovementStyle:Bt.Smooth,whitespaceStyle:$t.Bullet,language:Lt.TM.EN},jt={font:(0,Wt.x9)("textDisplay.font",Ot.ALL,Ot.default),caretShapeStyle:(0,Wt.Ht)("textDisplay.caretShapeStyle",zt,zt.Underline),caretMovementStyle:(0,Wt.Ht)("textDisplay.caretMovementStyle",Bt,Bt.Smooth),whitespaceStyle:(0,Wt.Ht)("textDisplay.whitespaceStyle",$t,$t.Bullet)};function Ht(t){const e=t.get(jt.caretShapeStyle),s=t.get(jt.caretMovementStyle),r=t.get(jt.whitespaceStyle),{language:i}=Lt.qD.from(t),n=Ot.select(i);return{font:Ot.find(n,t.get(jt.font)),caretShapeStyle:e,caretMovementStyle:s,whitespaceStyle:r,language:i}}function Gt(t){if(t.length>=2){const{timeStamp:e}=t.at(0),{timeStamp:s}=t.at(-1),{length:r}=t,i=Math.round(s-e),n=It(r,i),a=function(t){let e=0;for(const s of t)s.typo&&(e+=1);return e}(t);return{time:i,speed:n,length:r,errors:a,accuracy:(r-a)/r,histogram:Dt.from(t.slice(1))}}return{time:0,speed:0,length:0,errors:0,accuracy:0,histogram:Dt.empty}}function It(t,e){return e>0?t/(e/1e3)*60:0}var Yt;!function(t){t[t.Succeeded=0]="Succeeded",t[t.Recovered=1]="Recovered",t[t.Failed=2]="Failed"}(Yt||(Yt={}));class qt{text;stopOnError;forgiveErrors;spaceSkipsWords;onStep;#B;#$;#J=[];#j=[];#H;#G;constructor(t,{stopOnError:e,forgiveErrors:s,spaceSkipsWords:r},i=()=>{}){this.text=t,this.stopOnError=e,this.forgiveErrors=s,this.spaceSkipsWords=r,this.onStep=i,this.#B=n(t),this.#$=a(t),this.reset()}reset(){this.#J=[],this.#j=[],this.#H=!1,this.#I()}get length(){return this.#$.length}at(t){return this.#$.at(t)}get pos(){return this.#J.length}get completed(){return this.pos===this.length}get steps(){return this.#J}get chars(){return this.#G.chars}get lines(){return this.#G.lines}get remaining(){return this.#G.remaining}onInput({timeStamp:t,inputType:e,codePoint:s,timeToType:r}){switch(e){case"appendChar":return this.appendChar(t,s,r);case"appendLineBreak":return this.appendChar(t,32,r);case"clearChar":return this.clearChar();case"clearWord":return this.clearWord()}}clearChar(){return this.#j.pop(),this.#H=!0,this.#Y(Yt.Succeeded)}clearWord(){for(this.#j=[];this.pos>0&&32!==this.at(this.pos-1).codePoint;)this.#J.pop();return this.#H=!0,this.#Y(Yt.Succeeded)}appendChar(t,e,s){if(this.completed)throw new Error;const{codePoint:i}=this.at(this.pos);if(32!==i&&32===e){if(this.spaceSkipsWords&&(this.pos>0&&32!==this.at(this.pos-1).codePoint||this.#H))return this.#q(t),this.#Y(Yt.Recovered);if(0===this.#j.length&&!this.#H)return this.#Y(Yt.Succeeded)}if((i===e||Lt.Yf.normalize(i)===e)&&(this.forgiveErrors||0===this.#j.length)){const r=this.#H;return this.#Q({timeStamp:t,codePoint:e,timeToType:s,typo:r},this.at(this.pos)),this.#j=[],this.#H=!1,r?this.#Y(Yt.Recovered):this.#Y(Yt.Succeeded)}return this.#H=!0,this.stopOnError&&!this.forgiveErrors||this.#j.length<10&&this.#j.push({char:{codePoint:e,attrs:r.Garbage,cls:null},timeStamp:t,codePoint:e,timeToType:s,typo:!1}),this.forgiveErrors&&(this.#V()||this.#_())?this.#Y(Yt.Recovered):this.#Y(Yt.Failed)}#Y(t){return this.#I(),t}#I(){const t=this.#B,e=this.#$.slice(this.pos),s=[];if(s.push(...this.#J.map((({char:t})=>t))),this.stopOnError||s.push(...this.#j.map((({char:t})=>t))),e.length>0){const[t,...i]=e;s.push({...t,attrs:r.Cursor},...i)}const i={text:t,lines:[{text:t,chars:s}]};this.#G={chars:s,lines:i,remaining:e}}#Q(t,e){const s=t.typo?r.Miss:r.Hit;this.#J.push({...t,char:{...e,attrs:s}}),this.onStep(t)}#q(t){for(;this.pos<this.length&&32!==this.at(this.pos).codePoint;)this.#Q({timeStamp:t,codePoint:this.at(this.pos).codePoint,timeToType:0,typo:!0},this.at(this.pos));this.pos<this.length&&32===this.at(this.pos).codePoint&&this.#Q({timeStamp:t,codePoint:this.at(this.pos).codePoint,timeToType:0,typo:!1},this.at(this.pos)),this.#j=[],this.#H=!1}#V(){if(this.pos+3+1>this.length||this.#j.length<4)return!1;for(let t=0;t<3;t++){if(this.at(this.pos+t+1).codePoint!==this.#j[t+1].codePoint)return!1}this.#Q({timeStamp:this.#j[0].timeStamp,codePoint:this.at(this.pos).codePoint,timeToType:0,typo:!0},this.at(this.pos));for(let t=1;t<this.#j.length;t++)this.#Q(this.#j[t],this.#j[t].char);return this.#j=[],this.#H=!1,!0}#_(){if(this.pos+3+1>this.length||this.#j.length<3)return!1;for(let t=0;t<3;t++){if(this.at(this.pos+t+1).codePoint!==this.#j[t].codePoint)return!1}this.#Q({timeStamp:this.#j[0].timeStamp,codePoint:this.at(this.pos).codePoint,timeToType:0,typo:!0},this.at(this.pos));for(let t=0;t<this.#j.length;t++)this.#Q(this.#j[t],this.#j[t].char);return this.#j=[],this.#H=!1,!0}}}}]);
//# sourceMappingURL=8e5091c8c8be7d4f.js.map