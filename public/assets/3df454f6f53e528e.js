"use strict";(self.webpackChunkkeybr_com=self.webpackChunkkeybr_com||[]).push([[307],{3078:(e,t,s)=>{s.d(t,{A:()=>o,K:()=>d});var n=s(4922),r=s(1739),a=s(7810),i=s(910);async function d(e){switch(e){case i.E3.EN_ALICE_WONDERLAND:return(await s.e(1278).then(s.t.bind(s,9897,19))).default;case i.E3.EN_JEKYLL_HYDE:return(await s.e(1607).then(s.t.bind(s,5740,19))).default;case i.E3.EN_CALL_WILD:return(await s.e(2810).then(s.t.bind(s,3927,19))).default;default:throw new Error}}function o({book:e,children:t,fallback:s}){return(0,n.jsx)(c,{book:e,fallback:s,children:t},e.id)}function c({book:e,children:t,fallback:s}){const n=function(e){const[t,s]=(0,a.useState)(null);return(0,a.useEffect)((()=>{let t=!1;return d(e).then((n=>{t||s({book:e,content:n})})).catch(r.WL),()=>{t=!0}}),[e]),t}(e);return null==n?s:t(n)}},1163:(e,t,s)=>{s.d(t,{u:()=>o,z:()=>r});var n=s(8591);async function r(e){switch(e){case n.TM.AR:return(await s.e(9374).then(s.t.bind(s,4474,19))).default;case n.TM.BE:return(await s.e(3328).then(s.t.bind(s,444,19))).default;case n.TM.CS:return(await s.e(3225).then(s.t.bind(s,8879,19))).default;case n.TM.DE:return(await s.e(4454).then(s.t.bind(s,3042,19))).default;case n.TM.EL:return(await s.e(140).then(s.t.bind(s,2795,19))).default;case n.TM.EN:return(await s.e(5758).then(s.t.bind(s,762,19))).default;case n.TM.ES:return(await s.e(9163).then(s.t.bind(s,1257,19))).default;case n.TM.FA:return(await s.e(6952).then(s.t.bind(s,5892,19))).default;case n.TM.FR:return(await s.e(1715).then(s.t.bind(s,4081,19))).default;case n.TM.HE:return(await s.e(3090).then(s.t.bind(s,7630,19))).default;case n.TM.HR:return(await s.e(1661).then(s.t.bind(s,6179,19))).default;case n.TM.HU:return(await s.e(1650).then(s.t.bind(s,9134,19))).default;case n.TM.IT:return(await s.e(6800).then(s.t.bind(s,7500,19))).default;case n.TM.LT:return(await s.e(2503).then(s.t.bind(s,4197,19))).default;case n.TM.NB:return(await s.e(603).then(s.t.bind(s,7497,19))).default;case n.TM.NL:return(await s.e(5829).then(s.t.bind(s,2699,19))).default;case n.TM.PL:return(await s.e(4571).then(s.t.bind(s,2697,19))).default;case n.TM.PT:return(await s.e(4035).then(s.t.bind(s,609,19))).default;case n.TM.RO:return(await s.e(330).then(s.t.bind(s,5590,19))).default;case n.TM.RU:return(await s.e(1440).then(s.t.bind(s,6252,19))).default;case n.TM.SL:return(await s.e(398).then(s.t.bind(s,4970,19))).default;case n.TM.SV:return(await s.e(5028).then(s.t.bind(s,224,19))).default;case n.TM.TH:return(await s.e(3715).then(s.t.bind(s,9425,19))).default;case n.TM.TR:return(await s.e(6281).then(s.t.bind(s,5599,19))).default;case n.TM.UK:return(await s.e(5299).then(s.t.bind(s,2433,19))).default;default:throw new Error}}var a=s(4922),i=s(1739),d=s(7810);function o({language:e,children:t,fallback:s}){return(0,a.jsx)(c,{language:e,fallback:s,children:t},e.id)}function c({language:e,children:t,fallback:s}){const n=function(e){const[t,s]=(0,d.useState)(null);return(0,d.useEffect)((()=>{let t=!1;return r(e).then((e=>{t||s(e)})).catch(i.WL),()=>{t=!0}}),[e]),t}(e);return null==n?s:t(n)}},7711:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_e});var n,r=s(4922),a=s(8591),i=s(1609),d=s(2374),o=s(8120),c=s(6788),l=s(2352),u=s(6489),h=s(2739),p=s(9071),g=s(4661),x=s(2931),m=s(6400),f=s(564),j=s(6050),w=s(6681),b=s(4029),v=s(203),y=s(4071),T=s(8767),L=s(2461),k=s(4366),I=s(7810),M=s(5283);function S(e){return{type:n.Time,value:e}}function E(e){return{type:n.Length,value:e}}!function(e){e[e.Time=1]="Time",e[e.Length=2]="Length"}(n||(n={}));const C=S(15e3),D=S(3e4),W=S(6e4),N=E(100),A=E(500),P=E(1e3),z=[{label:"15 seconds",duration:C},{label:"30 seconds",duration:D},{label:"one minute",duration:W},{label:"100 characters",duration:N},{label:"500 characters",duration:A},{label:"1000 characters",duration:P}];var K=s(6274);class F{#e;#t;#s;#n;#r;#a;#i;#d;#o;#c;constructor(e,t,s){this.#e=e,this.#t=function(e,t=50){const s=[];let n="",r=!1;for(let a=0;a<e.length;a++){const{codePoint:i}=e[a];32===i?(n+=String.fromCodePoint(i),r=!0):(r&&n.length>=t&&(s.push(n),n=""),n+=String.fromCodePoint(i),r=!1)}n.length>0&&s.push(n);return s}(t),this.#s=function(e){const t=[];let s=0;for(const n of e)0===t.length&&(s=n.timeStamp),t.push({...n,timeStamp:n.timeStamp-s});return t}(s),this.#n=new B(t),this.reset("starting")}reset(e="starting"){this.#n.reset(),this.#r=e,this.#a=new T.M4,this.#i=0,this.#d=0,this.#o=this.#l(),this.#c=[]}get progress(){return this.#n}get state(){return this.#r}get delay(){switch(this.#r){case"starting":case"finished":return 3e3}const e=this.#s[this.#d];return Math.max(0,e.timeStamp-this.#a.elapsed)}step(){switch(this.#r){case"starting":return void this.reset("running");case"finished":return void this.reset("starting")}const e=this.#s[this.#d];switch(e.type){case"input":this.#o.onInput(e),this.#o.completed&&(this.#i+=1,this.#i<this.#t.length&&(this.#o=this.#l()));break;case"keydown":this.#c=(0,K.Fx)(this.#c,e.code);break;case"keyup":this.#c=(0,K.l0)(this.#c,e.code)}this.#d+=1,this.#s.length===this.#d&&(this.#r="finished")}get chars(){return this.#o.chars}get lines(){return this.#o.lines}get depressedKeys(){return this.#c}#l(){return new M.ks(this.#t[this.#i],this.#e,(()=>{this.#n.bump()}))}}class B{#u;#h;#p;#a;#g;#x;constructor(e){this.#u=[...e],this.reset()}reset(){this.#h=0,this.#p=0,this.#a=new T.M4,this.#g=0,this.#x=0}get time(){return this.#h===this.#u.length?this.#g=this.#p:this.#g=Math.max(this.#g,this.#p+this.#a.elapsed)}get length(){return this.#u.length}get progress(){return this.#h}get speed(){return this.#x}bump(){const e=this.#u[0],t=this.#u[this.#h];this.#h+=1,this.#p=t.timeStamp-e.timeStamp,this.#a=new T.M4,this.#x=(0,M.TF)(this.#h,this.#p)}}class R{settings;generator;static emptyLines={text:"",lines:[]};static emptyProgress={time:0,length:0,progress:0,speed:0};#s=[];#t;#m;#o;#u;#h=0;constructor(e,t){for(this.settings=e,this.generator=t,this.#t=[],this.#m=0,this.#u=[];this.#t.length<this.settings.numLines;)this.#f();this.#j()}getEvents(){return this.#s}getLines(){return{text:"",lines:this.#t}}getSteps(){return this.#u}handleKeyDown=e=>{this.#w(e)};handleKeyUp=e=>{this.#w(e)};handleInput=e=>{this.#w(e);const t=this.#o.onInput(e),{progress:s,completed:r}=function(e,t){const{length:s}=t;let r=0,a=0,i=0,d=!1;if(s>0){const o=t[0];switch(r=t[s-1].timeStamp-o.timeStamp,i=(0,M.TF)(s,r),e.type){case n.Time:a=r/e.value,d=r>=e.value;break;case n.Length:a=s/e.value,d=s>=e.value}}return{progress:{time:r,length:s,progress:a,speed:i},completed:d}}(this.settings.duration,this.#u);return this.#b(s),this.#o.completed&&(this.#m<this.#t.length-3?this.#m+=1:(this.#t.shift(),this.#f()),this.#j()),{feedback:t,progress:s,completed:r}};#w(e){this.#s.push(e)}#f(){const e=this.generator.mark(),t=this.#v(),s=(0,M.R$)(t),n=this.#h+=1;this.#t.push({mark:e,index:n,text:t,chars:s,progress:null})}#j(){const{text:e}=this.#t[this.#m];this.#o=new M.ks(e,this.settings.textInput,(e=>{this.#u.push(e)})),this.#b()}#b(e=null){const{mark:t,index:s,text:n}=this.#t[this.#m],{chars:r}=this.#o;this.#t[this.#m]={mark:t,index:s,text:n,chars:r,progress:e}}#v(){const{settings:{numCols:e},generator:t}=this;let s="";for(;;){const n=t.mark(),r=t.nextWord();if(s.length>0&&s.length+r.length+1>e){t.reset(n);break}s+=`${r} `}return s}}var U,V=s(910),_=s(3764);!function(e){e[e.CommonWords=1]="CommonWords",e[e.PseudoWords=2]="PseudoWords",e[e.Book=3]="Book"}(U||(U={}));const H={type:(0,_.Ht)("typingTest.textSource.type",U,U.CommonWords),language:(0,_.x9)("typingTest.textSource.language",a.TM.ALL,a.TM.EN),wordList:{wordListSize:(0,_.VE)("typingTest.wordList.wordListSize",1e3,{min:10,max:1e3})},book:(0,_.x9)("typingTest.book",V.E3.ALL,V.E3.EN_ALICE_WONDERLAND),bookParagraphIndex:(0,_.VE)("typingTest.book.paragraphIndex",0,{min:0,max:1e3}),duration:{type:(0,_.Ht)("typingTest.duration.type",n,n.Time),value:(0,_.VE)("typingTest.duration.value",0)}};function O(e){const t=function(e){const t=e.get(H.duration.type),s=e.get(H.duration.value);return 0===s?C:{type:t,value:s}}(e),s=function(e){switch(e.get(H.type)){case U.CommonWords:return{type:U.CommonWords,language:e.get(H.language),wordListSize:e.get(H.wordList.wordListSize)};case U.PseudoWords:return{type:U.PseudoWords,language:e.get(H.language)};case U.Book:return{type:U.Book,book:e.get(H.book),paragraphIndex:e.get(H.bookParagraphIndex)};default:throw new Error}}(e);return{duration:t,textSource:s,textInput:(0,M.u4)(e),textDisplay:{...(0,M.w2)(e),language:Z(s)}}}function Q(){const{settings:e}=(0,_.t0)();return(0,I.useMemo)((()=>O(e)),[e])}function Z(e){switch(e.type){case U.CommonWords:case U.PseudoWords:return e.language;case U.Book:return e.book.language}}var $=s(1961);function J({stepper:e}){const{formatInteger:t}=(0,o.L_)(),{formatSpeed:s}=(0,c.kc)(),{progress:{progress:n,length:a,speed:i},time:d}=function(e){const{state:t,progress:s}=e,[n,r]=(0,I.useState)(0);return(0,I.useEffect)((()=>{r(0);const e=new $.X;return e.start((()=>{"running"!==t&&"finished"!==t||r(s.time)})),()=>{e.cancel()}}),[t,s]),{progress:s,time:n}}(e);return(0,r.jsxs)(p.l,{align:"center",children:[(0,r.jsx)(g.js,{name:"Progress",value:`${t(n)}/${t(a)}`}),(0,r.jsx)(g.js,{name:"Time",value:(0,x.a)(d,{showMillis:!0})}),(0,r.jsx)(g.js,{name:"Speed",value:s(i)})]})}function G({result:{steps:e,events:t}}){const s=(0,a.de)(),{textInput:n,textDisplay:i}=Q(),{stepper:d,lines:o,depressedKeys:c}=function(e,t,s){const n=(0,I.useMemo)((()=>new F(e,t,s)),[e,t,s]),r=(0,k.f)(),[a,i]=(0,I.useState)(R.emptyLines),[d,o]=(0,I.useState)([]);return(0,I.useEffect)((()=>{const e=new T.ZU,t=()=>{n.step(),i(n.lines),o(n.depressedKeys),e.delayed(n.delay,t)};return r&&(n.reset(),i(n.lines),o(n.depressedKeys),e.delayed(n.delay,t)),()=>{e.cancelAll()}}),[n,r]),{stepper:n,lines:a,depressedKeys:d}}(n,e,t);return(0,r.jsxs)("div",{className:"DFiMaSObFb",children:[(0,r.jsx)(J,{stepper:d}),(0,r.jsx)(h.az,{className:"Q6yVe564ZQ",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(L.ML,{settings:i,lines:o,cursor:!0})}),(0,r.jsx)(y.$1,{keyboard:s,height:"16rem",children:(0,r.jsx)(y.vj,{depressedKeys:c})})]})}function X({name:e,value:t}){return(0,r.jsxs)("div",{className:"zMm2Qt4CJ_",children:[(0,r.jsx)("div",{className:"BsUqtZMQxo",children:(0,r.jsx)(g.WT,{children:t})}),(0,r.jsx)("div",{className:"HmlU2uOlUt",children:(0,r.jsx)(g.SX,{children:e})})]})}function q({value:e,unit:t}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"a5K98u4jos",children:e}),(0,r.jsx)("span",{className:"CPbZuJqaNO",children:t})]})}function Y(){return(0,r.jsx)("div",{className:"W61bRKQyv9"})}function ee(e){return Math.max(0,1-e)}var te=s(6515),se=s(8346),ne=s(2572),re=s(5268),ae=s(3078);function ie(){const{settings:e}=(0,_.t0)();return(0,r.jsx)(ae.A,{book:e.get(H.book),children:e=>(0,r.jsx)(de,{bookContent:e})})}function de({bookContent:e}){const{settings:t,updateSettings:s}=(0,_.t0)(),n=(0,I.useMemo)((()=>(0,V.sC)(e.content)),[e]),a=t.get(H.book),i=t.get(H.bookParagraphIndex);return(0,r.jsxs)(ne.nV,{legend:"Book paragraphs",children:[(0,r.jsx)(p.l,{children:"Type the content of a book."}),(0,r.jsx)(V.fd,{book:a,onChange:e=>{s(t.set(H.book,e).set(H.bookParagraphIndex,0))}}),(0,r.jsx)(V.A$,{...e}),(0,r.jsx)(V.MJ,{paragraphs:n,paragraphIndex:i,onChange:e=>{s(t.set(H.bookParagraphIndex,e))}}),(0,r.jsx)(V.vg,{paragraphs:n,paragraphIndex:i})]})}var oe=s(1163),ce=s(5130),le=s(7351),ue=s(5031),he=s(4692);function pe(){const{settings:e}=(0,_.t0)();return(0,r.jsx)(oe.u,{language:e.get(H.language),children:t=>(0,r.jsx)(ge,{wordList:t.slice(0,e.get(H.wordList.wordListSize))})})}function ge({wordList:e}){const{settings:t,updateSettings:s}=(0,_.t0)(),{formatMessage:n}=(0,he.A)(),{formatLanguageName:i}=(0,o.Bm)(),{formatNumber:d}=(0,o.L_)(),{wordCount:c,avgWordLength:l}=(0,V.yG)(e);return(0,r.jsxs)(ne.nV,{legend:"Common words",children:[(0,r.jsx)(p.l,{children:"Type the common words."}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D,{children:n({id:"dqIJoPUO"})}),(0,r.jsx)(f.D,{children:(0,r.jsx)(ce.m,{options:a.TM.ALL.map((e=>({value:e.id,name:i(e.id)}))),value:String(t.get(H.language)),onSelect:e=>{s(t.set(H.language,a.TM.ALL.get(e)))}})})]}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D,{children:n({id:"+37iySkI"})}),(0,r.jsx)(f.D,{children:(0,r.jsx)(le.Q,{size:16,min:H.wordList.wordListSize.min,max:H.wordList.wordListSize.max,step:1,value:t.get(H.wordList.wordListSize),onChange:e=>{s(t.set(H.wordList.wordListSize,e))}})})]}),(0,r.jsx)(p.l,{children:(0,r.jsx)(ue.A,{type:"textarea",value:e.join(", "),readOnly:!0})}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D,{children:(0,r.jsx)(g.js,{name:n({id:"KaWY3mI2"}),value:d(c)})}),(0,r.jsx)(f.D,{children:(0,r.jsx)(g.js,{name:n({id:"GD33hwdB"}),value:d(l,2)})})]})]})}var xe=s(4100),me=s(9527);function fe(){const{settings:e}=(0,_.t0)();return(0,r.jsx)(me.Z,{language:e.get(H.language),children:e=>(0,r.jsx)(je,{model:e})})}function je({model:e}){const{settings:t,updateSettings:s}=(0,_.t0)(),{formatMessage:n}=(0,he.A)(),{formatLanguageName:i}=(0,o.Bm)(),d=[];for(let t=0;t<50;t++)d.push(e.nextWord(xe.dJ.empty));return(0,r.jsxs)(ne.nV,{legend:"Pseudo words",children:[(0,r.jsx)(p.l,{children:"Type pseudo words generated by an algorithm according to the phonetic rules of your language."}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D,{children:n({id:"dqIJoPUO"})}),(0,r.jsx)(f.D,{children:(0,r.jsx)(ce.m,{options:a.TM.ALL.map((e=>({value:e.id,name:i(e.id)}))),value:String(t.get(H.language)),onSelect:e=>{s(t.set(H.language,a.TM.ALL.get(e)))}})})]}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D,{children:"Alphabet:"}),(0,r.jsx)(f.D,{children:(0,r.jsx)(xe.Sl,{model:e})})]}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D,{children:"Example:"}),(0,r.jsx)(f.D,{children:(0,r.jsx)("em",{children:d.join(" ")})})]})]})}function we(){const{settings:e,updateSettings:t}=(0,_.t0)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ne.nV,{legend:"Text Settings",children:[(0,r.jsx)(p.l,{children:"Choose what text to type in the test."}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D,{children:(0,r.jsx)(re.V,{label:"Common words",name:"text-source",value:"text-source-common-words",checked:e.get(H.type)===U.CommonWords,onSelect:()=>{t(e.set(H.type,U.CommonWords))}})}),(0,r.jsx)(f.D,{children:(0,r.jsx)(re.V,{label:"Pseudo words",name:"text-source",value:"text-source-pseudo-words",checked:e.get(H.type)===U.PseudoWords,onSelect:()=>{t(e.set(H.type,U.PseudoWords))}})}),(0,r.jsx)(f.D,{children:(0,r.jsx)(re.V,{label:"Book paragraphs",name:"text-source",value:"text-source-book",checked:e.get(H.type)===U.Book,onSelect:()=>{t(e.set(H.type,U.Book))}})})]})]}),e.get(H.type)===U.CommonWords&&(0,r.jsx)(pe,{}),e.get(H.type)===U.PseudoWords&&(0,r.jsx)(fe,{}),e.get(H.type)===U.Book&&(0,r.jsx)(ie,{})]})}var be=s(1243);class ve{#y;#T;#L=[];#k=0;constructor(e,{content:t}){const s=(0,V.sC)(t),n=(0,T.qE)(e.paragraphIndex,0,s.length);this.#y=s,this.#T=n,this.#L=(0,V.dF)(s[n]),this.#k=0}mark(){return{paragraphIndex:this.#T,wordIndex:this.#k}}reset({paragraphIndex:e,wordIndex:t}){this.#T=e,this.#L=(0,V.dF)(this.#y[this.#T]),this.#k=t}nextWord(){this.#k>=this.#L.length&&(this.#T+=1,this.#T>=this.#y.length&&(this.#T=0),this.#L=(0,V.dF)(this.#y[this.#T]),this.#k=0);const e=this.#L[this.#k];return this.#k+=1,e}}var ye=s(4968);class Te{#I;#M;constructor(e,t=(0,ye.v)(1)){this.#I=e,this.#M=t}nextWord(){return this.#I.nextWord(xe.dJ.empty,this.#M)}mark(){return{mark:this.#M.mark()}}reset({mark:e}){this.#M.reset(e)}}var Le=s(2196);class ke{#S;#M;constructor({wordListSize:e},t,s=(0,ye.v)(1)){this.#S=[...t].splice(0,e),this.#M=s}nextWord(){return(0,Le.gl)(this.#S,this.#M)}mark(){return{mark:this.#M.mark()}}reset({mark:e}){this.#M.reset(e)}}function Ie({children:e}){const{textSource:t}=Q();switch(t.type){case U.CommonWords:return(0,r.jsx)(oe.u,{language:t.language,children:s=>e(new ke(t,s,Me()))});case U.PseudoWords:return(0,r.jsx)(me.Z,{language:t.language,children:t=>e(new Te(t,Me()))});case U.Book:return(0,r.jsx)(ae.A,{book:t.book,children:s=>e(new ve(t,s))})}}function Me(){return(0,ye.v)(Date.now())}const Se=(0,I.memo)((function({children:e,progress:t}){return(0,r.jsx)("div",{className:"CMsOCpa4jp",children:e})}));var Ee=s(4329);const Ce=(0,I.memo)((function({progress:{length:e,time:t,progress:s,speed:n}}){const{formatInteger:a,formatPercents:i}=(0,o.L_)(),{formatSpeed:d}=(0,c.kc)();return(0,r.jsxs)("div",{className:"BEng8tEQdI",children:[(0,r.jsx)("div",{className:"BEWioHbUt9",style:{inlineSize:100*s+"%"}}),(0,r.jsxs)("div",{className:"_7frZdMv8m",children:[(0,r.jsx)(g.WT,{value:(0,x.a)(t,{showMillis:!0})})," / ",(0,r.jsx)(g.WT,{value:a(e)})," / ",(0,r.jsx)(g.WT,{value:i(s,{minimumFractionDigits:2,maximumFractionDigits:2})})," / ",(0,r.jsx)(g.WT,{value:d(n)})]})]})})),De=(0,Ee.Q)(Ce);var We=s(4392),Ne=s(7964),Ae=s(4164);const Pe=(0,I.memo)((function({onChange:e,onConfigure:t}){return(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D.Filler,{}),(0,r.jsx)(f.D,{children:(0,r.jsx)(ze,{onChange:e})}),(0,r.jsx)(f.D,{children:(0,r.jsx)(We.K,{icon:(0,r.jsx)(w.I,{shape:v.CZ3}),onClick:t})}),(0,r.jsx)(f.D.Filler,{})]})})),ze=(0,I.memo)((function({onChange:e}){const{settings:t,updateSettings:s}=(0,_.t0)(),n=O(t),a=[];for(let i=0;i<z.length;i++){const{duration:d,label:o}=z[i];i>0&&a.push((0,r.jsx)("span",{children:" | "},a.length)),a.push((0,r.jsx)(Ne.z,{className:(0,Ae.$)("Ttt4IkpHzR",d.type===n.duration.type&&d.value===n.duration.value&&"f25EDsyiCy"),onClick:()=>{s(t.set(H.duration.type,d.type).set(H.duration.value,d.value)),e()},children:o},a.length))}return(0,r.jsx)(r.Fragment,{children:a})}));function Ke({generator:e,mark:t}){const{setView:s}=(0,i.lQ)(Re),n=Q(),a=(0,I.useRef)(null),d=(0,be.ib)(),[o,c]=(0,I.useState)((()=>Fe(n,e))),[u,p]=(0,I.useState)(R.emptyLines),[g,x]=(0,I.useState)(R.emptyProgress);return(0,I.useEffect)((()=>{e.reset(t);const s=Fe(n,e);c(s),p(s.getLines())}),[n,e,t]),(0,r.jsxs)(l.ff,{children:[(0,r.jsx)(Pe,{onConfigure:()=>{s("settings")},onChange:()=>{a.current?.focus()}}),(0,r.jsx)(m.h,{size:10}),(0,r.jsx)(h.az,{alignItems:"center",justifyContent:"center",children:(0,r.jsxs)("div",{className:"uzg6Z_e1yp",children:[(0,r.jsx)(L.fs,{focusRef:a,settings:n.textDisplay,lines:u,wrap:!1,onFocus:()=>{e.reset(t);const s=Fe(n,e);c(s),p(s.getLines())},onKeyDown:o.handleKeyDown,onKeyUp:o.handleKeyUp,onInput:e=>{const{feedback:t,progress:n,completed:r}=o.handleInput(e);p(o.getLines()),x(n),d(t),r&&s("report",{result:Be(o)})},lineTemplate:Se}),(0,r.jsx)(De,{progress:g})]})})]})}function Fe(e,t){return new R({...e,numLines:5,numCols:55},t)}function Be(e){const t=e.getSteps(),s=e.getEvents();return{stats:(0,M.IE)(t),steps:t,events:s}}const Re={test:function(){return(0,r.jsx)(Ie,{children:e=>(0,r.jsx)(Ke,{generator:e,mark:e.mark()})})},report:function({result:e}){const{setView:t}=(0,i.lQ)(Re),{formatNumber:s,formatPercents:n}=(0,o.L_)(),{speedUnit:a,formatSpeed:y}=(0,c.kc)(),T=()=>t("test");(0,u.v)({Enter:T});const{time:L,speed:k,length:I,errors:M,accuracy:S}=e.stats,E=(0,d.g3)(),C=(0,d.e4)(),D=E.cdf(k),W=C.cdf(C.scale(S));return(0,r.jsxs)(l.ff,{children:[(0,r.jsxs)(h.az,{alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(X,{name:"Speed",value:(0,r.jsx)(q,{value:y(k,{unit:!1}),unit:a.id})}),(0,r.jsx)(Y,{}),(0,r.jsx)(X,{name:"Accuracy",value:(0,r.jsx)(q,{value:`${s(100*S,2)}`,unit:"%"})})]}),(0,r.jsxs)(p.l,{align:"center",children:[(0,r.jsx)(g.js,{name:"Characters",value:s(I)}),(0,r.jsx)(g.js,{name:"Errors",value:s(M)}),(0,r.jsx)(g.js,{name:"Time",value:(0,x.a)(L,{showMillis:!0})})]}),(0,r.jsx)(h.az,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(d.ut,{distribution:E,thresholds:[{label:"Speed",value:k}],width:"45rem",height:"15rem"})}),(0,r.jsxs)(p.l,{align:"center",children:[(0,r.jsxs)(g.SX,{children:["Faster than ",(0,r.jsx)(g.WT,{value:n(D)})," of all other people."]})," ",(0,r.jsxs)(g.SX,{children:["You are in the top ",(0,r.jsx)(g.WT,{value:n(ee(D))}),"."]})]}),(0,r.jsx)(h.az,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(d.G$,{distribution:C,thresholds:[{label:"Accuracy",value:S}],width:"45rem",height:"15rem"})}),(0,r.jsxs)(p.l,{align:"center",children:[(0,r.jsxs)(g.SX,{children:["More accurate than ",(0,r.jsx)(g.WT,{value:n(W)})," of all other people."]})," ",(0,r.jsxs)(g.SX,{children:["You are in the top ",(0,r.jsx)(g.WT,{value:n(ee(W))}),"."]})]}),(0,r.jsx)(h.az,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(d.dG,{steps:e.steps,width:"45rem",height:"15rem"})}),(0,r.jsx)(p.l,{align:"center",children:"Time to type a character histogram."}),(0,r.jsx)(m.h,{size:3}),(0,r.jsx)(G,{result:e}),(0,r.jsx)(m.h,{size:3}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D.Filler,{}),(0,r.jsx)(f.D,{children:(0,r.jsx)(j.$,{label:"Next test",icon:(0,r.jsx)(w.I,{shape:v.zre}),onClick:T})}),(0,r.jsx)(f.D.Filler,{})]}),(0,r.jsxs)(p.l,{align:"center",children:["Press ",(0,r.jsx)(b.u,{children:"Enter"})," to start a new test."]})]})},settings:function(){const{setView:e}=(0,i.lQ)(Re),[t,s]=(0,I.useState)(0);return(0,r.jsx)(l.ff,{children:(0,r.jsxs)(te.n,{defaultVisible:!1,children:[(0,r.jsxs)(se.w,{selectedIndex:t,onSelect:e=>{s(e)},children:[(0,r.jsx)(se.o,{label:"Text",children:(0,r.jsx)(we,{})}),(0,r.jsx)(se.o,{label:"Typing",children:(0,r.jsx)(L.VF,{})})]}),(0,r.jsxs)(f.d,{children:[(0,r.jsx)(f.D.Filler,{}),(0,r.jsx)(f.D,{children:(0,r.jsx)(j.$,{icon:(0,r.jsx)(w.I,{shape:v.NG3}),label:"Done",onClick:()=>{e("test")}})})]})]})})}};function Ue(){return(0,r.jsx)(i.my,{views:Re})}var Ve=s(8827);function _e(){return(0,r.jsx)(Ve.rc,{children:(0,r.jsx)(a.JW,{children:(0,r.jsx)(Ue,{})})})}},9527:(e,t,s)=>{s.d(t,{Z:()=>z});var n=s(4922),r=s(1739),a=s(2352),i=s(4100),d=s(7810),o=s(9414),c=s(8591);const l=s.p+"63ffdf524d0608b1.data",u=s.p+"703a8bc7a06e3123.data",h=s.p+"6678775fcc8b47d1.data",p=s.p+"03bbed93af3d4fbf.data",g=s.p+"e38c54c84b327d18.data",x=s.p+"0550250db313f2c9.data",m=s.p+"0bf816064a123685.data",f=s.p+"970f9f0b08e74892.data",j=s.p+"6f3501a9fda8d5ad.data",w=s.p+"fdf0e79475b3cc94.data",b=s.p+"3d851961e0c51b56.data",v=s.p+"93bfe1b120f492d2.data",y=s.p+"540012bd41c926c7.data",T=s.p+"d9af0492a02f0520.data",L=s.p+"17bab8e00a3acac6.data",k=s.p+"e8ae96ca681b9027.data",I=s.p+"74fc72f9025e1e07.data",M=s.p+"d15da4c86165308a.data",S=s.p+"768bf5c88516c3c5.data",E=s.p+"d4871df629be1ac9.data",C=s.p+"73f7b71722b7ac4f.data",D=s.p+"12e46217cd99ca0a.data",W=s.p+"b4516a511f0c6c94.data",N=s.p+"0778d73bd64c5e57.data",A=s.p+"d96d127cbafaee93.data";const P=async e=>{const t=await o.Em.use((0,o.eA)("application/octet-stream")).GET(function(e){switch(e){case c.TM.AR:return l;case c.TM.BE:return u;case c.TM.CS:return h;case c.TM.DE:return p;case c.TM.EL:return g;case c.TM.EN:return x;case c.TM.ES:return m;case c.TM.FA:return f;case c.TM.FR:return j;case c.TM.HE:return w;case c.TM.HR:return b;case c.TM.HU:return v;case c.TM.IT:return y;case c.TM.LT:return T;case c.TM.NB:return L;case c.TM.NL:return k;case c.TM.PL:return I;case c.TM.PT:return M;case c.TM.RO:return S;case c.TM.RU:return E;case c.TM.SL:return C;case c.TM.SV:return D;case c.TM.TH:return W;case c.TM.TR:return N;case c.TM.UK:return A;default:throw new Error}}(e)).send(),s=await t.arrayBuffer(),n=(0,i.w9)(e,new Uint8Array(s));return(0,i.ZL)(n)};function z({language:e,children:t,fallback:s=(0,n.jsx)(a.e2,{})}){return(0,n.jsx)(K,{language:e,fallback:s,children:t},e.id)}function K({language:e,children:t,fallback:s}){const a=function(e){const[t,s]=(0,d.useState)(null);return(0,d.useEffect)((()=>{let t=!1;return z.loader(e).then((e=>{t||s(e)})).catch(r.WL),()=>{t=!0}}),[e]),t}(e);return null==a?s:(0,n.jsx)(i.Dz.Provider,{value:a,children:t(a)})}!function(e){e.loader=P}(z||(z={}))}}]);
//# sourceMappingURL=3df454f6f53e528e.js.map